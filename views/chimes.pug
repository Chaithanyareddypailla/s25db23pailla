extends layout

block content
  h2 Search Results for 
  br
  a.btn.btn-success(href="/chimes/create") Create chimes  
  br

  - let items = results
  div(class="container-fluid")
    div(class="row m-1")
      each chimes, index in items
        - let destination = `dispatch("/chimes/update?id=${chimes._id}")`
        div(class="row-sm-2 m-1") Item #{chimes.chimes_name}(#{chimes.material}) is #{chimes.cost}
          button.btn.btn-primary.ml-1(onclick=destination) Update
        div.col-sm-3.bg-info.text-white.p-3.m-2.rounded.shadow.text-center(
          onclick=`buy(${index})`, style="cursor: pointer;"
        )
          h5 #{chimes.chimes_name}
          p chimes_name: #{chimes.chimes_name}
          p Material: #{chimes.material}
          p Cost: $#{chimes.cost}

  script.
    function buy(index) {
      alert("You purchased item " + index);
    }

  script.
    function dispatch(path){
      window.location.href = path;
    }
